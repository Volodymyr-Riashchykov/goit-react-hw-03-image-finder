(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{11:function(e,t,n){e.exports={header:"Form_header__3f7j_",form:"Form_form__3Oc4T",input:"Form_input__3mKnK"}},16:function(e,t,n){e.exports={button:"Button_button__2BKCf",icon:"Button_icon__9ZxuH"}},17:function(e,t,n){e.exports={item:"GalleryItem_item__1_k8e",img:"GalleryItem_img__3jHKn"}},18:function(e,t,n){e.exports={overlay:"Modal_overlay__2OrPd",modal:"Modal_modal__2X6Fe"}},29:function(e,t,n){e.exports={button:"App_button__3VvES"}},31:function(e,t,n){e.exports={list:"Gallery_list__1JlSI"}},33:function(e,t,n){e.exports={wrapper:"Spinner_wrapper__31_dl"}},38:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var a,r,o=n(0),i=n.n(o),s=n(5),c=n.n(s),l=(n(38),n(10)),u=n.n(l),h=n(19),p=n(14),d=n(6),m=n(7),b=n(9),j=n(8),f=n(11),g=n.n(f),O=["title","titleId"];function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},v.apply(this,arguments)}function x(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function y(e,t){var n=e.title,i=e.titleId,s=x(e,O);return o.createElement("svg",v({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},s),n?o.createElement("title",{id:i},n):null,a||(a=o.createElement("path",{d:"M5.5 9.5C7.70914 9.5 9.5 7.70914 9.5 5.5C9.5 3.29086 7.70914 1.5 5.5 1.5C3.29086 1.5 1.5 3.29086 1.5 5.5C1.5 7.70914 3.29086 9.5 5.5 9.5Z",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"})),r||(r=o.createElement("path",{d:"M10.5 10.5002L8.32495 8.3252",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"})))}var w=o.forwardRef(y),_=(n.p,n(16)),k=n.n(_),S=n(1);function C(){return Object(S.jsx)("button",{type:"submit",className:k.a.button,children:Object(S.jsx)(w,{width:"30",height:"30",className:k.a.icon})})}var L=n(4),N=(n(20),function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={searh:"",error:null},e.handleSearh=function(t){t.preventDefault(),""!==e.state.searh.trim()?(e.props.searh(e.state.searh),e.setState({searh:""})):e.setState({error:L.b.error("\u041f\u0443\u0441\u0442\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430")})},e.handleSearhReq=function(t){e.setState({searh:t.currentTarget.value.toLowerCase()})},e}return Object(m.a)(n,[{key:"render",value:function(){return Object(S.jsx)("header",{className:g.a.header,children:Object(S.jsxs)("form",{onSubmit:this.handleSearh,className:g.a.form,children:[Object(S.jsx)(C,{}),Object(S.jsx)("label",{className:g.a.label,children:Object(S.jsx)("input",{className:g.a.input,type:"text",placeholder:"Search images and photos",value:this.state.searh,onChange:this.handleSearhReq})}),Object(S.jsx)(L.a,{})]})})}}]),n}(o.Component)),F=n(29),E=n.n(F),M=n(30),I=n.n(M);function G(e,t){return B.apply(this,arguments)}function B(){return(B=Object(p.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://pixabay.com/api/","23111484-b23ce212a3b9e3a1a0d03b7eb",e.prev=2,e.next=5,I.a.get("".concat("https://pixabay.com/api/","?image_type=photo&orientation=horizontal&q=").concat(t,"&page=").concat(n,"&per_page=12&key=").concat("23111484-b23ce212a3b9e3a1a0d03b7eb"));case 5:return e.next=7,e.sent.data.hits;case 7:return e.abrupt("return",e.sent);case 10:e.prev=10,e.t0=e.catch(2);case 12:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}var K=n(17),R=n.n(K);function T(e){var t=e.image,n=e.onClickGal,a=t.webformatURL,r=t.largeImageURL,o=t.tags;return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)("li",{className:R.a.item,children:Object(S.jsx)("img",{src:a,alt:o,className:R.a.img,"data-source":r,onClick:function(){return n({largeImageURL:r})}})})})}var U=n(31),P=n.n(U);function q(e){var t=e.images,n=e.onClickGal;return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)("ul",{className:P.a.list,children:t.map((function(e,t){return Object(S.jsx)(T,{image:e,onClickGal:n},t)}))})})}var A=n(18),D=n.n(A),H=D.a.overlay,J=D.a.modal,W=document.querySelector("#modal-root"),Z=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleKeydown=function(t){"Escape"!==t.code&&t.currentTarget!==t.target||e.props.onClose()},e.handleBackdropClick=function(t){t.currentTarget===t.target&&e.props.onClose()},e}return Object(m.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeydown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeydown)}},{key:"render",value:function(){return Object(s.createPortal)(Object(S.jsx)("div",{className:H,onClick:this.handleBackdropClick,children:Object(S.jsx)("div",{className:J,children:this.props.children})}),W)}}]),n}(o.Component),z=(n(59),n(32)),V=n.n(z),X=n(33),Q=n.n(X),Y=function(){return Object(S.jsx)("div",{className:Q.a.wrapper,children:Object(S.jsx)(V.a,{type:"ThreeDots",color:"#00BFFF",height:80,width:80})})},$=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={searh:"",page:1,error:null,isModal:!1,modal:"",images:[],isSpin:!1},e.handleFormSubmit=function(t){t!==e.state.searh?e.setState({images:[],searh:t,page:1,error:null}):e.setState({error:L.b.error("\u0421\u0442\u0440\u043e\u043a\u0430 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0435\u0442 \u0441 \u0440\u0430\u043d\u0435\u0435 \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u043e\u0439")})},e.handleClick=function(){e.setState((function(e){return{page:e.page+1}}))},e.onClickGal=function(t){e.setState({isModal:!0,modal:t.largeImageURL})},e.onClose=function(){e.setState((function(e){return{isModal:!e.isModal}}))},e}return Object(m.a)(n,[{key:"componentDidUpdate",value:function(){var e=Object(p.a)(u.a.mark((function e(t,n){var a,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.searh,r=n.page,e.prev=1,a===this.state.searh&&r===this.state.page){e.next=10;break}return this.setState({isSpin:!0}),e.next=6,G(this.state.searh,this.state.page);case 6:o=e.sent,this.setState((function(e){return{images:[].concat(Object(h.a)(e.images),Object(h.a)(o))}})),this.state.images.length>0?this.setState({isSpin:!1}):this.setState({error:L.b.error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u0443\u044e \u0441\u0442\u0440\u043e\u043a\u0443 \u043f\u043e\u0438\u0441\u043a\u0430")}),this.state.page>1&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),this.setState({error:L.b.error("Woops, something went wrong... Try again later.")});case 15:case"end":return e.stop()}}),e,this,[[1,12]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.images,n=e.modal,a=e.isModal,r=e.isSpin,o=t.length>0&&!r;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(N,{searh:this.handleFormSubmit}),t.length>0&&Object(S.jsx)(q,{images:t,onClickGal:this.onClickGal}),o&&Object(S.jsx)("button",{type:"button",className:E.a.button,onClick:this.handleClick,children:"Load more"}),r&&Object(S.jsx)(Y,{}),a&&Object(S.jsx)(Z,{onClose:this.onClose,children:Object(S.jsx)("img",{src:n,alt:""})}),Object(S.jsx)(L.a,{})]})}}]),n}(o.Component);c.a.render(Object(S.jsx)(i.a.StrictMode,{children:Object(S.jsx)($,{})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.f42baf90.chunk.js.map