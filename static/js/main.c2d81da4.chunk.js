(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{11:function(e,t,n){e.exports={header:"Form_header__3f7j_",form:"Form_form__3Oc4T",input:"Form_input__3mKnK"}},17:function(e,t,n){e.exports={button:"Button_button__2BKCf",icon:"Button_icon__9ZxuH"}},18:function(e,t,n){e.exports={item:"GalleryItem_item__1_k8e",img:"GalleryItem_img__3jHKn"}},19:function(e,t,n){e.exports={overlay:"Modal_overlay__2OrPd",modal:"Modal_modal__2X6Fe"}},31:function(e,t,n){e.exports={list:"Gallery_list__1JlSI"}},33:function(e,t,n){e.exports={wrapper:"Spinner_wrapper__31_dl"}},34:function(e,t,n){e.exports={button:"App_button__3VvES"}},38:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var a,r,o=n(0),s=n.n(o),i=n(9),c=n.n(i),l=(n(38),n(4)),h=n(5),u=n(7),p=n(6),d=n(11),m=n.n(d),b=["title","titleId"];function j(){return j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},j.apply(this,arguments)}function f(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function g(e,t){var n=e.title,s=e.titleId,i=f(e,b);return o.createElement("svg",j({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":s},i),n?o.createElement("title",{id:s},n):null,a||(a=o.createElement("path",{d:"M5.5 9.5C7.70914 9.5 9.5 7.70914 9.5 5.5C9.5 3.29086 7.70914 1.5 5.5 1.5C3.29086 1.5 1.5 3.29086 1.5 5.5C1.5 7.70914 3.29086 9.5 5.5 9.5Z",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"})),r||(r=o.createElement("path",{d:"M10.5 10.5002L8.32495 8.3252",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"})))}var v=o.forwardRef(g),O=(n.p,n(17)),x=n.n(O),y=n(1);function w(){return Object(y.jsx)("button",{type:"submit",className:x.a.button,children:Object(y.jsx)(v,{width:"30",height:"30",className:x.a.icon})})}var k=n(8),_=(n(21),function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={searh:"",error:null},e.handleSearh=function(t){t.preventDefault(),""!==e.state.searh.trim()?(e.props.searh(e.state.searh),e.setState({searh:""})):e.setState({error:k.b.error("\u041f\u0443\u0441\u0442\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430")})},e.handleSearhReq=function(t){e.setState({searh:t.currentTarget.value.toLowerCase()})},e}return Object(h.a)(n,[{key:"render",value:function(){return Object(y.jsx)("header",{className:m.a.header,children:Object(y.jsxs)("form",{onSubmit:this.handleSearh,className:m.a.form,children:[Object(y.jsx)(w,{}),Object(y.jsx)("label",{className:m.a.label,children:Object(y.jsx)("input",{className:m.a.input,type:"text",placeholder:"Search images and photos",value:this.state.searh,onChange:this.handleSearhReq})}),Object(y.jsx)(k.a,{})]})})}}]),n}(o.Component)),C=n(10),S=n.n(C),B=n(20),N=n(14),L=n(16),E=n(30),F=n.n(E);function G(e,t){return I.apply(this,arguments)}function I(){return(I=Object(N.a)(S.a.mark((function e(t,n){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://pixabay.com/api/","23111484-b23ce212a3b9e3a1a0d03b7eb",e.prev=2,e.next=5,F.a.get("".concat("https://pixabay.com/api/","?image_type=photo&orientation=horizontal&q=").concat(t,"&page=").concat(n,"&per_page=12&key=").concat("23111484-b23ce212a3b9e3a1a0d03b7eb"));case 5:return e.next=7,e.sent.data.hits;case 7:return e.abrupt("return",e.sent);case 10:e.prev=10,e.t0=e.catch(2);case 12:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}var M=n(18),T=n.n(M);function K(e){var t=e.image,n=e.onClickGal,a=t.webformatURL,r=t.largeImageURL,o=t.tags;return Object(y.jsx)("li",{className:T.a.item,children:Object(y.jsx)("img",{src:a,alt:o,className:T.a.img,"data-source":r,onClick:function(){return n({largeImageURL:r})}})})}var R=n(31),U=n.n(R);function A(e){var t=e.images,n=e.onClickGal;return Object(y.jsx)("ul",{className:U.a.list,children:t.map((function(e,t){return Object(y.jsx)(K,{image:e,onClickGal:n},t)}))})}var P=n(19),q=n.n(P),D=q.a.overlay,H=q.a.modal,J=document.querySelector("#modal-root"),W=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleKeydown=function(t){"Escape"!==t.code&&t.currentTarget!==t.target||e.props.onClose()},e.handleBackdropClick=function(t){t.currentTarget===t.target&&e.props.onClose()},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeydown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeydown)}},{key:"render",value:function(){return Object(i.createPortal)(Object(y.jsx)("div",{className:D,onClick:this.handleBackdropClick,children:Object(y.jsx)("div",{className:H,children:this.props.children})}),J)}}]),n}(o.Component),Z=(n(59),n(32)),z=n.n(Z),V=n(33),X=n.n(V),Q=function(){return Object(y.jsx)("div",{className:X.a.wrapper,children:Object(y.jsx)(z.a,{type:"ThreeDots",color:"#00BFFF",height:80,width:80})})},Y=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={page:1,images:[],error:null,status:"idle",isModal:!1,modal:""},e.onClickGal=function(t){e.setState({isModal:!0,modal:t.largeImageURL})},e.onClose=function(t){e.setState({isModal:!1})},e}return Object(h.a)(n,[{key:"componentDidUpdate",value:function(){var e=Object(N.a)(S.a.mark((function e(t,n){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.searh===this.props.searh&&t.page===this.props.page){e.next=18;break}return this.setState({status:"pending"}),t.searh!==this.props.searh&&(n.images=[]),e.t0=this,e.t1=[],e.t2=Object(B.a)(n.images),e.t3=B.a,e.next=10,G(this.props.searh,this.props.page);case 10:e.t4=e.sent,e.t5=(0,e.t3)(e.t4),e.t6=e.t1.concat.call(e.t1,e.t2,e.t5),e.t7=this.props.page,e.t8={images:e.t6,page:e.t7,status:"resolve"},e.t0.setState.call(e.t0,e.t8),0!==this.state.images.length?this.props.handleBtn():(this.props.handleNoBtn(),this.setState({status:"reject",error:k.b.error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u0443\u044e \u0441\u0442\u0440\u043e\u043a\u0443 \u043f\u043e\u0438\u0441\u043a\u0430")})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"});case 18:e.next=23;break;case 20:e.prev=20,e.t9=e.catch(0),this.setState({status:"reject",error:k.b.error("Woops, something went wrong... Try again later.")});case 23:return e.prev=23,e.finish(23);case 25:case"end":return e.stop()}}),e,this,[[0,20,23,25]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.status,n=e.images,a=e.modal,r=e.isModal;return"idle"===t?Object(y.jsx)("div",{}):"pending"===t?Object(y.jsxs)(y.Fragment,{children:[n.length>0&&Object(y.jsx)(A,{images:n,onClickGal:this.onClickGal}),Object(y.jsx)(Q,{})]}):"resolve"===t?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{}),Object(y.jsx)(A,{images:n,onClickGal:this.onClickGal}),r&&Object(y.jsx)(W,{onClose:this.onClose,children:Object(y.jsx)("img",{src:a,alt:""})})]}):"reject"===t?Object(y.jsx)(k.a,{}):void 0}}]),n}(L.Component),$=n(34),ee=n.n($),te=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={searh:"",page:1,isBtn:!1},e.handleFormSubmit=function(t){e.setState({searh:t,page:1})},e.handleBtn=function(){e.setState({isBtn:!0})},e.handleNoBtn=function(){e.setState({isBtn:!1}),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},e.handleClick=function(){e.setState((function(e){return{page:e.page+1}}))},e}return Object(h.a)(n,[{key:"render",value:function(){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(_,{searh:this.handleFormSubmit}),Object(y.jsx)(Y,{searh:this.state.searh,page:this.state.page,handleBtn:this.handleBtn,handleNoBtn:this.handleNoBtn}),this.state.isBtn&&Object(y.jsx)("button",{type:"button",className:ee.a.button,onClick:this.handleClick,children:"Load more"})]})}}]),n}(o.Component);c.a.render(Object(y.jsx)(s.a.StrictMode,{children:Object(y.jsx)(te,{})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.c2d81da4.chunk.js.map